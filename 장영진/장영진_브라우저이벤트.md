## 2-1 브라우저 이벤트

이벤트는 무엇인가 발생했다는 신호

모든 DOM 노드는 이벤트를 만들어낸다, 이벤트는 DOM 이외의 환경에서도 발생한다

[브라우저 이벤트 참고](http://milooy.github.io/TIL/JavaScript/event.html#%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A6%E1%86%AB%E1%84%90%E1%85%B3%E1%84%80%E1%85%A1-%E1%84%87%E1%85%A1%E1%86%AF%E1%84%89%E1%85%A2%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB-%E1%84%8C%E1%85%B5%E1%84%8C%E1%85%A5%E1%86%B7)

[브라우저 모든 이벤트 정리](https://www.w3schools.com/jsref/dom_obj_event.asp)

> 두 번째 링크에 접속하면 모든 이벤트들이 정리되어 있는 표를 볼 수 있다
>
> 수십개가 되는 이벤트를 모두 외우기는 효율적이지 못한 방법이기 때문에 자주 사용되는 몇가지만 알아보자

<br>

### 2-1-1 마우스 이벤트 

1. `click`

   요소 위에서 **마우스 왼쪽 버튼을 클릭**했을 때(터치스크린 장치에서는 탭했을 때) 이벤트 발생

2. `contextmenu`

   요소 위에서 **마우스 오른쪽 버튼을 클릭**했을 때 이벤트 발생

3. `mouseover` <-> `mouseout`

   마우스 커서를 요소 **위로 올렸을때**와 요소 **밖으로 벗어났을 때** 이벤트 발생

4. `mousedown` <-> `mouseup`

   마우스 왼쪽 버튼을 **누르고 있을 때와 버튼을 땔 때** 이벤트 발생

5. `mousemove`

   마우스를 **움직일 때** 이벤트 발생

<br>

### 2-1-2 키보드 이벤트

1. `keydown` <-> `keyup`

   사용자가 키보드 버튼을 **눌렀을 때와 땔 때** 이벤트 발생

<br>

### 2-1-3 폼 요소 이벤트

1. `submit`

   사용자가 `<form>`을 **제출**할 때 이벤트 발생

2. `focus`

   사용자가 `<input>`과 같은 요소에 **포커스(클릭)**했을 때 이벤트 발생

<br>

### 2-1-4 문서 이벤트

1. `DOMContentLoaded`

   HTML문서가 전부 로드되어 **DOM생성이 전부 완료**됐을 때 이벤트 발생

   이미지 파일(`<img>`)이나 스타일시트 등의 **기타 자원은 예외**

2. `load`

   HTML로 DOM 트리를 만들어졌으며, 이미지, 스타일시트 같은 **기타 자원도 모두 불러왔을 때** 이벤트 발생

   > 최종 프로젝트에서 로딩 페이지 구현할 때 활용

3. `beforeunload`, `unload`

   사용자가 **페이지를 떠날 때** 이벤트 발생

<br>

### 2-1-5 CSS 이벤트

1. `transitioned`

   CSS **애니메이션이 전부 종료**됐을 때 이벤트 발생

<br>

### 2-1-6 이벤트 핸들러

이벤트가 발생했을 때 반응하기 위해 실행되는 함수인 `핸들러`를 할당해야 한다

<br>

#### 핸들러 할당 방법1 : HTML 속성 활용

```html
<input type="button" onclick="alert('클릭!')" value="클릭해 주세요.">
```

> onclick안의 코드가 실행된다, 코드가 길어진다면 함수를 만들어 호출하는 방법이 적합하다

<br>

#### 핸들러 할당 방법2 : DOM 프로퍼티

```html
<input id="elem" type="button" value="클릭해 주세요.">
<script>
  elem.onclick = function() {
    alert('감사합니다.');
  };
</script>
```

> 방법 1로 핸들러를 HTML 속성을 사용해 할당하면 브라우저는 속성값을 이용해 새로운 함수를 만드는데 그 과정이 할당 방법 2와 같다

<br>

`onclick`프로퍼티는 하나밖에 없기 때문에 여러 개의 이벤트 핸들러를 할당할 수 없다

만약 여러 개를 할당하게 된다면, 마지막 핸들러로 덮어씌워진다

<br>

#### 2-1-7 this

`this.innerHTML`에서 this는 `button`이므로 버튼을 클릭하면 버튼 안의 요소가 출력된다

```html
<button onclick="alert(this.innerHTML)">클릭해 주세요.</button>
```

<br>

#### 2-1-8 올바른 할당

```javascript
// 올바른 방법
button.onclick = sayThanks;

// 틀린 방법
button.onclick = sayThanks();
```

sayThanks()를 프로퍼티에 할당하면 함수의 결과값이 할당된다  

함수 `sayThanks`가 아무것도 반환하지 않는다면 `onclick` 프로퍼티엔 `undefined`이 할당되므로 이벤트가 원하는 대로 동작하지 않는다

<br>

```javascript
// 올바른 방법
<input type="button" id="button" onclick="sayThanks()">

// 틀린 방법
<input type="button" id="button" onclick="sayThanks">
```

HTML 속성값에는 괄호가 있어야 한다

<br>

#### 2-1-9 addEventListener

앞서 설명한 방법들은 여러 개의 핸들러를 할당할 수 없다는 단점이 있다

`addEventListener` 와 `removeEventListener` 라는 특별한 메서드를 이용해 핸들러를 관리하는 방식이 생겼다

> 핸들러를 여러 개 할당 할 수 있다

```javascript
element.addEventListener(event, handler, [options]);
```

**event**

이벤트 이름(예: `"click"`)

**handler**


핸들러 함수

**options**


아래 프로퍼티를 갖는 객체

- `once`: `true`이면 이벤트가 트리거 될 때 리스너가 자동으로 삭제(**한 번만 실행**)
- `capture`: 어느 단계에서 이벤트를 다뤄야 하는지를 알려주는 프로퍼티로, 호환성 유지를 위해 `options`를 객체가 아닌 `false/true`로 할당하는 것도 가능한데, 이는 `{capture: false/true}`와 동일
- `passive`: `true`이면 리스너에서 지정한 함수가 `preventDefault()`를 호출하지 않는다

<br>

#### 2-1-10 이벤트 객체

이벤트 발생시 브라우저는 **이벤트 객체**를 생성한다

이벤트 객체에 상세한 정보를 넣은 후 핸들러에 인수 형태로 전달
